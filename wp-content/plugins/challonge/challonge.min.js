jQuery(document).ready(function(e){e(document).on("click",".challonge-lnkconfirm .challonge-button",function(t){var n,r,i,s,o,u,a,f;t.preventDefault();n=e(this);r=n.parent();i=n.data("lnkaction");s=n.data("lnktourny");params={action:"challonge_widget",lnk_action:i,lnk_tourny:s};if("report"==i){o=e("#challonge-report");u=o.serializeArray();for(f in u){switch(u[f].name){case"challonge_report_wl":params.report_wl=u[f].value;break;case"challonge_report_score":params.report_score=u[f].value;break;case"challonge_report_opponent_score":params.report_opponent_score=u[f].value;break;default:break}}if("undefined"==typeof params.report_wl){alert(challongeVar.wltMsg);return}o.find("input").prop("disabled",true)}else if("join"==i){params.playername_input=[];e(".challonge-playername").find("input").each(function(){params.playername_input.push(e(this).val())}).prop("disabled",true)}r.hide().html('<img src="'+challongeVar.spinUrl+'" />').fadeIn("slow");e.post(challongeVar.ajaxUrl,params,function(t,n){r.finish().hide().html(t).fadeIn("slow",function(){a=e(this).find(".challonge-metahtml");if(a.length)e(".challonge-tournyid-"+s).filter(":first").replaceWith(a.html())})}).fail(function(){r.finish().hide().html('<p class="challonge-error">'+challongeVar.errorMsg+' -- <a href="#close" onclick="tb_remove();return false;">'+challongeVar.closeMsg+"</a></p>").fadeIn("slow")})}).on("submit","#challonge-loginform",function(t){var n=e(this).find('input[name="redirect_to"]');var r=n.val().indexOf("challonge_signup=");n.val(window.location.href+(window.location.href.indexOf("?")==-1?"?":"&")+n.val().substr(r))});if(window.location.search.indexOf("challonge_signup=")!=-1){var t=window.location.search.indexOf("challonge_signup=");var n=window.location.search.substr(t+17);if(n.indexOf("&")!=-1)n=n.substr(0,n.indexOf("&"));setTimeout("Challonge_jQuery('.challonge-button.thickbox.challonge-tournyid-"+n+"').get(0).click();",1e3)}var r=function(){var t=e(this);var n=t.width()-80;var r=t.height()-80;var i=/(\?action=challonge_widget&width)=\d+(&height)=\d+\b(.*&lnk_action=view)$/;e("a.thickbox").each(function(){var t=e(this);var s=t.attr("href");var o=s.replace(i,"$1="+n+"$2="+r+"$3");if(s!=o)t.attr("href",o)})};e(window).resize(r);setTimeout(r,10)});var Challonge_jQuery=jQuery